!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([function(e){e.exports=JSON.parse('[{"ProgramPhone":1233488768,"ProgramName":"TestProgram","clickaway":"Click here"}]')},function(e){e.exports=JSON.parse('{"rowCount":1,"totalCount":1,"composition":{"variables":[{"variable":"p_image","visibilityAreaSelector":".ext-product-image","canHide":true,"hidden":false},{"variable":"p_name","visibilityAreaSelector":".ext-product-name","canHide":true,"hidden":false},{"variable":"p_vendor_code","visibilityAreaSelector":".ext-product-vendor-code","canHide":true,"hidden":true},{"variable":"p_dimensions","visibilityAreaSelector":".ext-product-dimensions","canHide":true,"hidden":true},{"variable":"p_price","visibilityAreaSelector":".ext-product-price","canHide":true,"hidden":false},{"variable":"p_button","visibilityAreaSelector":".ext-product-button","canHide":true,"hidden":false}]}}')},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var o={name:null,iconClass:null,uniqueClassName:null,canBeSavedToLibrary:!1,settingsCssPath:null,previewCssPath:null,i18n:{},blockName:null,emptyContainerIcon:!1,blockType:null,blockConfigAttributeNames:[],controlsToCreate:[],blockControls:[],isEnabled:function(){return!0},emailInitialized:function(e){},onSelectBlock:function(e,t){},getBlockLayoutToDrop:function(){return"<td>Default block</td>"},blockDropped:function(e){},getBlockLabel:function(e){return"Default block"},getDefaultSettingsPanelState:function(e){return{}},onCleanLayout:function(e,t){},onBlockCopy:function(e,t){}},r={en:{"block.name":"Header","preview.label":"Header"},ru:{"block.name":"Шапка","preview.label":"Шапка"}};var i=n(0);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=l(l({},{onActivated:function(){this.registerSettingsEventListener("layoutChanged",this.layoutChanged.bind(this))},layoutChanged:function(){this.applyThemeFromConfig(),this.updateControlVisibility()},applyThemeFromConfig:function(){this.themeKey&&this.isControlVisible()&&this.panelState.blockConfig.theme[this.themeKey]&&this.updateControlValue(this.panelState.blockConfig.theme[this.themeKey])},controlValueUpdated:function(e){this.themeKey&&(this.panelState.blockConfig.theme[this.themeKey]=e,this.updateBlockConfiguration())},updateLayout:function(e){this.extension.updateLayout(e)},updateBlockConfiguration:function(){this.extension.blockConfigurationService.setBlockConfiguration(this.jElement,this.panelState.blockConfig)},translate:function(e,t){return this.extension.stripoApi.translate(e,t)},isValuableBlock:function(){return!!this.panelState.blockConfig.groups.length}}),{},{name:"demo_flightStopCount_control",render:function(){this.jContainer.html(this.getControlMarkup()),this.numberSelector=this.jContainer.find("number-selector")[0],this.numberSelector.props.onChange=this.onChange.bind(this)},onChange:function(e){var t=this;this.extension.stripoApi.runWithDelay("totalCountChange",(function(){t.updateLayout(e),t.applyChangesImmediately()}),300)},getControlMarkup:function(){return'<number-selector label="Flight Stop" \n            min="0" step="1"></number-selector>'}});n(1);function u(e,t,n){!function(e){function t(e){var t=e.attr("esd-dev-demo-config");return t?JSON.parse(t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&quot;/g,'"')):null}}();function o(e){console.log(i);var t=$(".stripo-preview-frame");for(var n in t.contents().find("#flightCustomBlock> tbody").empty(),null===(o=i[e])||void 0===o?void 0:o.orders){var o;a(i[e].orders[n])}}function a(e){$(".stripo-preview-frame").contents().find("#flightCustomBlock> tbody").append(function(e){var t='<tr class="order-details-#ProgramPhone#" style="border:1px solid">\n        <td style="width:100%;">\n    <div style="padding:5px"><strong>Important Information</strong></div>\n    <div style="padding:5px">Please use the confirmation number when contacting the airline directly. For details on your order status, please visit hte My Trips section or contact your Travel Reservation specialist at #ProgramPhone# and have the itiernary number ready. </div>\n    <div style="padding:5px"><strong>Thanks you for choosing the #ProgramName# program, Remember all of your needs are just a #clickaway#\n    </div>\n    <div style="padding:5px"><strong>Thank You</div>\n    <div style="padding:5px"><strong>#ProgramName#</div>\n    </td></tr>';return function(e){return[{key:"#ProgramPhone#",value:e.ProgramPhone},{key:"#ProgramName#",value:e.ProgramName},{key:"#clickaway#",value:e.clickaway}]}(e).forEach((function(e){t=t.replace(new RegExp(e.key,"gi"),e.value)})),t}(e))}return{name:"DemoBlockWithPopupSettings",iconClass:"es-icon-header",uniqueClassName:"demo-header-block",canBeSavedToLibrary:!0,settingsCssPath:"/assets/css/settings.css",i18n:r,blockName:"Important Information",blockType:"structure",blockConfigAttributeNames:["esd-dev-product-config"],controlsToCreate:[{control:s}],blockControls:["demo_flightStopCount_control"],getBlockLayoutToDrop:function(){return'    <td class="esd-structure" align="left">\n    <table cellpadding="0" cellspacing="0" width="100%">\n        <tbody>\n            <tr>\n                <td width="560" class="esd-container-frame" align="center" valign="top">\n                    <table cellpadding="0" cellspacing="0" width="100%" id="flightCustomBlock">\n                        <tbody>\n                            <tr>\n                                <td>\n                                    <span class="es-icon-image" title="flightCustomBlock"></span>\n                                    <span class="block-text">Important Information Added</span>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</td>'},blockDropped:function(e){e.find(">.esd-structure-type").html(t.translate("flight-details"))},onSelectBlock:function(e,t){t.showCustomBlockSettings},getBlockLabel:function(e){return"Important Information"},updateLayout:function(e){o(e)}}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={create:function(e,t,n){return Object.assign(d(d({stripoConfig:e,stripoApi:t,extensionBasePath:n},o),u(0,t)))}};self.DemoHeaderBlockExtension=b}]);